<!DOCTYPE html>
<html ng-app="app">
<head>
    <meta charset="UTF-8">
    <title></title>
    <!-- styles -->
    <link rel="stylesheet" href="../public/stylesheets/simditor.css"/>
    <link rel="stylesheet" href="../public/stylesheets/font-awesome.css"/>
    <!-- opensource libs -->
    <script src="http://libs.useso.com/js/jquery/2.1.1/jquery.min.js"></script>
    <script src="http://libs.useso.com/js/angular.js/1.2.9/angular.min.js"></script>
    <!-- other libs -->
    <script src="../public/javascripts/simditor/simditor-all.js"></script>
    <script src="../public/javascripts/angular-editor.js"></script>

    <script>


        function dbManager() {
            var redis = require("redis");
            client = redis.createClient();

            client.on("error", function (err) {
                console.log("Error" + err);
            });

            client.on("connect", runSample);

            function runSample() {
                client.set("skey", "hello", function (err, reply) {
                    console.log(reply.toString());
                });
                client.get("skey", function (err, reply) {
                    console.log(reply.toString());
                });

            }
        }

        (function (window) {
            'use strict';
            var angular = window.angular, appName = 'app';

            angular
                    .module(appName, [
                        'simditor'
                    ])
                    .controller('mainController', function ($scope) {
                        $scope.editor = 'tom';

                        $scope.clearEditor = function () {
                            $scope.editor = '';
                        }
                        $scope.sendMessage = function () {
                            dbManager();

                        }
                    });

        }(window));
    </script>
</head>
<body>

<div class="container" ng-controller="mainController">
    <div style="margin: 20px">

        <p>{{editor}}</p>
    </div>
    <div simditor ng-model="editor" placeholder="some placeholder"></div>
    <div class="btn-group">
        <button ng-click="clearEditor()">CLEAR</button>
        <button ng-click="dbManager()">SEND</button>



</div>
</body>
</html>